<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trello風タスク管理アプリ</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="header">
        <h1 class="app-title">Trello風タスク管理アプリ</h1>
        <div class="header-buttons">
            <button class="add-board-btn" id="addBoardBtn">新しいボードを追加</button>
            <button class="settings-btn" id="settingsBtn">⚙️ 設定</button>
        </div>
    </header>

    <main class="main-content">
        <div class="board-container" id="boardContainer">
            <!-- デフォルトボード -->
            <div class="board" id="board-1">
                <div class="board-header">
                    <h2 class="board-title" contenteditable="true">マイボード</h2>
                    <button class="delete-board-btn" onclick="deleteBoard('board-1')">×</button>
                </div>
                <div class="lists-container" ondrop="dropList(event)" ondragover="allowDropList(event)">
                    <!-- To Do リスト -->
                    <div class="list" id="list-1" data-board="board-1" draggable="true" ondragstart="dragList(event)" ondragend="endDragList(event)">
                        <div class="list-header">
                            <div class="list-drag-handle">⋮⋮</div>
                            <h3 class="list-title" contenteditable="true">To Do</h3>
                            <button class="delete-list-btn" onclick="deleteList('list-1')">×</button>
                        </div>
                        <div class="cards-container" ondrop="drop(event)" ondragover="allowDrop(event)">
                            <!-- サンプルカード -->
                            <div class="card" draggable="true" ondragstart="drag(event)" id="card-1">
                                <div class="card-content" contenteditable="true">サンプルタスク1</div>
                                <button class="delete-card-btn" onclick="deleteCard('card-1')">×</button>
                            </div>
                        </div>
                        <button class="add-card-btn" onclick="addCard('list-1')">+ カードを追加</button>
                    </div>

                    <!-- In Progress リスト -->
                    <div class="list" id="list-2" data-board="board-1" draggable="true" ondragstart="dragList(event)" ondragend="endDragList(event)">
                        <div class="list-header">
                            <div class="list-drag-handle">⋮⋮</div>
                            <h3 class="list-title" contenteditable="true">In Progress</h3>
                            <button class="delete-list-btn" onclick="deleteList('list-2')">×</button>
                        </div>
                        <div class="cards-container" ondrop="drop(event)" ondragover="allowDrop(event)">
                            <div class="card" draggable="true" ondragstart="drag(event)" id="card-2">
                                <div class="card-content" contenteditable="true">サンプルタスク2</div>
                                <button class="delete-card-btn" onclick="deleteCard('card-2')">×</button>
                            </div>
                        </div>
                        <button class="add-card-btn" onclick="addCard('list-2')">+ カードを追加</button>
                    </div>

                    <!-- Done リスト -->
                    <div class="list" id="list-3" data-board="board-1" draggable="true" ondragstart="dragList(event)" ondragend="endDragList(event)">
                        <div class="list-header">
                            <div class="list-drag-handle">⋮⋮</div>
                            <h3 class="list-title" contenteditable="true">Done</h3>
                            <button class="delete-list-btn" onclick="deleteList('list-3')">×</button>
                        </div>
                        <div class="cards-container" ondrop="drop(event)" ondragover="allowDrop(event)">
                        </div>
                        <button class="add-card-btn" onclick="addCard('list-3')">+ カードを追加</button>
                    </div>

                    <!-- 新しいリストを追加ボタン -->
                    <div class="add-list-container">
                        <button class="add-list-btn" onclick="addList('board-1')">+ リストを追加</button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- 設定ダイアログ -->
    <div class="modal-overlay" id="settingsModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>設定</h3>
                <button class="modal-close-btn" id="closeSettingsBtn">×</button>
            </div>
            <div class="modal-body">
                <div class="setting-section">
                    <h4>データ管理</h4>
                    <p>全てのボード、リスト、カードを初期状態に戻します。</p>
                    <button class="data-clear-btn" id="dataClearBtn">データをクリア</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 確認ダイアログ -->
    <div class="modal-overlay" id="confirmModal">
        <div class="modal-content confirm-modal">
            <div class="modal-header">
                <h3>確認</h3>
            </div>
            <div class="modal-body">
                <p id="confirmMessage">この操作を実行しますか？</p>
                <div class="confirm-buttons">
                    <button class="cancel-btn" id="cancelBtn">キャンセル</button>
                    <button class="confirm-btn" id="confirmBtn">OK</button>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>